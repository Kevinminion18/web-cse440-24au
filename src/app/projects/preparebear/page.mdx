{/* CSE 440 Project Post Template
  *
  * This template aims to guide you in how to use the supported syntax.
  *
  * Refer to the assignment description for details on what content is expected.
  *
  * If you delete or modify template content that you later find you need,
  * the original template can also be found in `/src/app/projects/template/page.mdx`.
  *
  * Note this template's use of comment syntax.
  * Curly brackets delineate a code block, within which you can then initiate a comment.
  * The column of `*` characters has no effect and is included only for readability.
  */}

{/* Tool Documentation
  *
  * This post is primarily formatted in Markdown.
  * For one example of how to use Markdown, see <https://www.markdownguide.org/>.
  *
  * The post then uses [MDX](https://mdxjs.com/) to embedded JSX components.
  * You are not expected to fully understand these components,
  * but can just embed them in your Markdown like you would any HTML tag.
  */}

{/* Project Imports
  *
  * These import components you can then use in your post.
  * You could inspect those components, but this template is intended to be sufficient.
  *
  * The full [MUI](https://mui.com/material-ui/getting-started/overview/) component library is also available,
  * but we do not expect or recommend you will need or want additional components.
  * If you find the provided components insufficient, we encourage you to check in with the course staff.
  */}

import { ProjectImageBlock } from "@/components/project/ProjectImageBlock";
import { ProjectImagesBlock } from "@/components/project/ProjectImagesBlock";
import { ProjectSubtitle } from "@/components/project/ProjectSubtitle";
import { ProjectTeamGallery } from "@/components/project/ProjectTeamGallery";

{/* Image Imports
  *
  * Every image should be imported via its path in your `images` directory.
  * - That directory is within `public/images/projects`.
  * - These imports all reference the `template` project, you will reference your own project directory.
  * - Give your images meaningful names (e.g., "overview.png").
  * - Only `.jpg` and `.png` file extensions are supported.
  * - If an import is not working, double-check that you have the correct file extension.
  */}

import imageTeamPerson1 from "public/images/projects/preparebear/team/celestine1.png";
import imageTeamPerson2 from "public/images/projects/preparebear/team/jerry2.png";
import imageTeamPerson3 from "public/images/projects/preparebear/team/raymond3.png";
import imageTeamPerson4 from "public/images/projects/preparebear/team/david4.png";
import imageTeamPerson5 from "public/images/projects/preparebear/team/geoffrey5.png";

import walkthrough1part1 from "public/images/projects/preparebear/post/walkthrough_1_1.jpg"
import walkthrough1part2 from "public/images/projects/preparebear/post/walkthrough_1_2.jpg"
import walkthrough1part3 from "public/images/projects/preparebear/post/walkthrough_1_3.jpg"
import walkthrough1part4 from "public/images/projects/preparebear/post/walkthrough_1_4.jpg"
import walkthrough1part5 from "public/images/projects/preparebear/post/walkthrough_1_5.jpg"
import walkthrough1part6 from "public/images/projects/preparebear/post/walkthrough_1_6.jpg"

import walkthrough2part1 from "public/images/projects/preparebear/post/walkthrough_2_1.jpg"
import walkthrough2part2 from "public/images/projects/preparebear/post/walkthrough_2_2.jpg"
import walkthrough2part3 from "public/images/projects/preparebear/post/walkthrough_2_3.jpg"
import walkthrough2part4 from "public/images/projects/preparebear/post/walkthrough_2_4.jpg"
import walkthrough2part5 from "public/images/projects/preparebear/post/walkthrough_2_5.jpg"
import walkthrough2part6 from "public/images/projects/preparebear/post/walkthrough_2_6.jpg"

import evaltree from "public/images/projects/preparebear/post/tree1.png"
import preparetree from "public/images/projects/preparebear/post/tree2_1.png"
import feedbacktree from "public/images/projects/preparebear/post/tree2_2.png"
import questiontree from "public/images/projects/preparebear/post/questiontree.png"
import sympathytree from "public/images/projects/preparebear/post/sympathytree.png"

import research_insight1_1 from "public/images/projects/preparebear/post/research_1_1.png"
import research_insight1_2 from "public/images/projects/preparebear/post/research_1_2.png"
import research_insight2 from "public/images/projects/preparebear/post/research_2.png"
import research_insight3 from "public/images/projects/preparebear/post/research_3.png"

import prototype from "public/images/projects/preparebear/post/prototype.png"
import revisiontree from "public/images/projects/preparebear/post/revisiontree.png"
import facialdisplay1 from "public/images/projects/preparebear/post/facialdisplay_1.png"
import facialdisplay2 from "public/images/projects/preparebear/post/facialdisplay_2.png"

import neutral from "public/images/projects/preparebear/post/neutral.png"

# Prepare Bear

<ProjectSubtitle>Don't BEAR it alone!</ProjectSubtitle>

## Team

{/* The ProjectTeamGallery displays names and images of your project team.
  * - Split each name across two lines.
  * - Crop and scale images to be the size of the placeholder (125px x 150px).
  *   This consistent image size provides a cleaner gallery.
  */}

<ProjectTeamGallery members={[
    {
        name: ["Celestine Buendia", "they/them"],
        photo: imageTeamPerson1,
    },
    {
        name: ["Jerry Li", "he/him"],
        photo: imageTeamPerson2,
    },
    {
        name: ["Raymond Phu", "he/him"],
        photo: imageTeamPerson3,
    },
    {
        name: ["David Sy", "he/him"],
        photo: imageTeamPerson4,
    },
    {
        name: ["Geoffrey Aldrich", "he/him"],
        photo: imageTeamPerson5,
    },
]} />

## Problem and Design Overview

{/* A ProjectImageBlock displays text with an associated image.
  * - The image is configured through properties on the opening `ProjectImageBlock` tag.
  * - Text is placed within the opening and closing `ProjectImageBlock` tags.
  * - In a small browser window, the image will be rendered below the text.
  * - In a large browser window, the image will be rendered on the right.
  *
  * - The width property controls how much of the grid is assigned to the image column.
  *   Values can be 4 (the smallest image), 6 (half the width of the page), or 8 (the largest image).
  *
  * - The maxHeight property controls the rendered height of an image.
  *   Although the image here is 1200x800, maxHeight limits its rendered height to 400px.
  *   If not specified, the default maxHeight is 400px.
  *
  * Later in the template you will also find examples of the plural `ProjectImagesBlock` tag.
*/}

<ProjectImageBlock
    image={{
        src: neutral,
        alt: "A picture of a panda stuffed animal looking neutral.",
    }}
    caption={
        "Prepare Bear: a sympathetic companion that helps you process and prepare through speech"
    }
    width={6}
    maxHeight={"325px"}
>

Communicating emotions to others is something that all people have to deal with in life in order to maintain their relationships and get support for their issues, but for people struggling with mental illness, this can be simultaneously especially important and especially difficult. Due to the strength and confusing nature of what they feel, it can seem like the world is unsupportive or doesn’t understand, preventing emotions from being expressed. 

In many cases, people fear receiving a bad response from others and don’t share. It’s something that is hard to build up the courage to do, and people can feel unprepared, unskilled, or anxious in a situation where they want or need to express how they feel. It’s a problem that has very few dedicated resources to help a person overcome their anxieties and feel prepared.


</ProjectImageBlock>

Prepare Bear is a robotic animal device that communicates with users through speech, similar to Alexa, helping them work through emotions and practice conversations. It practices conversations with users and gives them practical experience speaking their feelings in a personable and comforting experience. The robot will have interchangeable faces to convey dynamic emotions. It can help a user identify a person to talk to (such as a therapist or friend) and identify conversation goals. The robot can also help them workshop a conversation by incorporating data built throughout conversations, and also providing feedback based on the user’s goals.

## Design Walkthrough

One main task a user can accomplish with the help of Prepare Bear is "Evaluating Emotional Needs," finding a path forward
from intense emotions, which can be done by talking through an emotional event and defining goals with the system. 
A second task is "Preparing What You're Going to Say" in a conversation with another person, which is done by iteratively 
workshopping sentences with feedback from Prepare Bear. These are our focus tasks because we identified from our research 
two major barriers to communication being the inability to process what you're feeling and lack of concrete preparation.
The way this system is designed behind the scenes is through multiple dialogue trees that guide the user through
these conversation paths.

<ProjectImageBlock
    image={{
        src: evaltree,
        alt: "Dialogue tree depicting the logic of evaluating feelings",
    }}
    direction={"column"}
    caption={
        "Dialogue Tree 1: a definition of the path the system takes to gather information, lead the user in processing their emotions, and help make a plan for if they need help"
    }
    width={12}
    maxHeight={"400px"}
>
</ProjectImageBlock>

<ProjectImageBlock
    image={{
        src: preparetree,
        alt: "Logic of preparing a conversation",
    }}
    direction={"column"}
    caption={
        "Dialogue Tree 2: A definition of the path the system takes to help the user prepare for a conversation, "
        + "collecting information and goals, then looping through giving feedback on user sentences using the Feedback Generator"
    }
    width={12}
    maxHeight={"400px"}
>
</ProjectImageBlock>

<ProjectImageBlock
    image={{
        src: feedbacktree,
        alt: "Logic of iterative feedback giving",
    }}
    direction={"column"}
    caption={
        "Feedback Generator: the logic for generating feedback in Dialogue Tree 2, giving feedback "
        + "based on user defined goals, and allowing users to critique their feedback and edit their "
        + "goals so feedback suits their needs"
    }
    width={12}
    maxHeight={"400px"}
>
</ProjectImageBlock>

### Evaluate Your Emotional Needs

<ProjectImagesBlock
    images={[
        {src: walkthrough1part1,
        alt: "Person stands in front of stuffed panda bear with smiling face and says \"Hi Prepare Bear\"",
        caption: "User starts up PB with start phrase, and from here panda's face glows when listening to user, then responds"},
        {src: walkthrough1part2,
        alt: "Person says \"I started crying while I was studying for exams\", and panda bear frowns and says\"That sounds really difficult. Was anyone else there?\". Panda's face is glowing bright.",
        caption: "User tells PB about problem, PB offers sympathy, questions to understand, and confirms understanding"},
        {src: walkthrough1part3,
        alt: "Person says \"No, I was alone. And I feel alone…\", and panda bear frowns and says\"I’m so sorry. Do you have anyone to talk to?\". Panda's face is glowing bright.",
        caption: "PB leads user into identifying if they need to speak to someone to improve the situation"},
    ]}
    direction={"row"}
    width={12}
    maxHeight={"400px"}
>
</ProjectImagesBlock>
<ProjectImagesBlock
    images={[
        {src: walkthrough1part4,
        alt: "Person asks for a person suggestion and panda thinks and recommends a friend also studying",
        caption: "PB answers user question with a suggestion, confirming they are satisfied with it before moving on"},
        {src: walkthrough1part5,
        alt: "Panda asks for person's conversation goals, person responds",
        caption: "PB helps user identify their goals, usually iterating with them until they have no more goals left to add"},
        {src: walkthrough1part6,
        alt: "Panda confirms goals with user and user says thanks they feel more in control",
        caption: "PB confirms with user that they are satisfied with their goals and the user now has a concrete plan forward"},
    ]}
    direction={"row"}
    width={12}
    maxHeight={"400px"}
>
</ProjectImagesBlock>

### Prepare What You Are Going to Say

<ProjectImagesBlock
    images={[
        {src: walkthrough2part1,
        alt: "Person stands in front of stuffed panda bear with smiling face and says \"Hi Prepare Bear\"",
        caption: "User expresses need to prepare for conversation, PB is sympathetic and asks questions to define context"},
        {src: walkthrough2part2,
        alt: "Person answers that parents won't react badly but they did, and panda asks that they and they define goals together",
        caption: "If not defined, panda and user define conversation goals together to be the foundation of feedback"},
        {src: walkthrough2part3,
        alt: "Panda asks for practice sentence, person responds with a sentence frustrated at parent",
        caption: "PB prompts user for practice sentence and user gives sentence they plan to say in conversation"},
    ]}
    direction={"row"}
    width={12}
    maxHeight={"400px"}
>
</ProjectImagesBlock>
<ProjectImagesBlock
    images={[
        {src: walkthrough2part4,
        alt: "Panda gives feedback to lower harshness and person agrees to go again",
        caption: "PB gives actionable feedback based on goals, and user can redo based on feedback in iteration until satisfied"},
        {src: walkthrough2part5,
        alt: "Panda asks for new sentence, visual of person and panda talking in loop",
        caption: "Panda prompts for another sentence after last, loop sentences/feedback process until user feels secure"},
        {src: walkthrough2part6,
        alt: "Person holds iPhone and sees in iMessage a summary text from Prepare Bear, saying thanks",
        caption: "Once process done, user can say yes to a text summary of their process and read to recap their plan"},
    ]}
    direction={"row"}
    width={12}
    maxHeight={"400px"}
>
</ProjectImagesBlock>

## Design Research and Key Insights

We lacked information about the reasons why someone might have trouble expressing their feelings in a conversation
and what people want out of the before and after of a conversation. We knew that knowing the main barriers to 
communication and people's wants would be essential in building our product. To solve this issue, we conducted 3 
research activities: two interviews with people who had experience with therapy and an online survey released to the 
online public receiving 36 responses, but with a large portion of responses coming 
from people with self-identified therapy experience. We targeted this 
demographic because we believed their experience with emotional communication would offer greater relevance and insight. 
To capture this, our questions for all activities were structured around the two research questions of "What barriers exist?" 
and "What makes communicating effective?".
We conducted interviews to gain dynamic insights in the typical way, but put out a survey as well to reach more 
people in order to verify our understanding of this serious topic that we did not have expertise on. 

### Lack of Preparation Tools

<ProjectImagesBlock
    images={[
        {
            src: research_insight1_1,
            alt: "Initial design sketch of Pot Pal synthesizing previous information and " +
            "displaying it on its screen as well as talking about it.",
            caption: "Initial section of DT1 influenced by the want of an emotional guidance tool"
        },
        {
            src: research_insight1_2,
            alt: "Initial design sketch of Pot Pal synthesizing previous information and " +
            "displaying it on its screen as well as talking about it.",
            caption: "Loop structure of DT2 motivated by common mental walkthrough preparation"
        },
    ]}
    direction={"column"}
    width={6}
    maxHeight={"250px"}
>

Both interviews identified that the most common way for them to prepare for conversations was for them to run
through the problem and the conversation in their head. Interviewee 1 stated: "I guess I would say, I go over the 
scenario in my head and, I don't know if that's a good or a bad thing sometimes." Interviewee 1 on multiple occasions 
expressed a real desire for some sort of tools that would help a person identify what they are feeling in preparation for
communication. Many survey responses when asked for what they would want if they could have anything to prepare for a conversation,
could not identify a specific thing, often writing "something" to help them feel better. One response
wrote, "A guide that tells me about all the emotions and difficult feelings I'm feeling." These statements indicated to us 
that there was a need for a concrete tool to help prepare for emotional conversations compared to the nebulous existing methods.

This identified what motivated the concept of our project, and certain suggestions were implemented. Both the above statements
influenced our "Identifying Needs" dialogue tree's process of walking through emotions. The interviews talking about running
through conversations in their head motivated our "Prepare for a Conversation" dialogue tree as a practice and feedback session
where the conversation partners' response is considered, streamlining this mentioned process of mental run-throughs
into something more structured and with impartial help.

</ProjectImagesBlock>


### Concern about how others react deters individuals from opening up

<ProjectImagesBlock
    images={[
        {
            src: research_insight2,
            alt: "Initial design sketch of Pot Pal synthesizing previous information and " +
            "displaying it on its screen as well as talking about it.",
            caption: "Feedback system from DT2 giving feedback based on collected context about the conversation partner"
        },
    ]}
    direction={"column"}
    width={6}
    maxHeight={"350px"}
>

Survey responses included a variety of reasons for why one can be afraid of communicating emotionally such as burdening
the listener or not wanting to come off as vulnerable. Quote from one response: “fear of judgement and not wanting to 
worry them.” Interview 1 also identified it as one of three major barriers to communication in their life: Participant 
in full stated “Yeah. I think it’s those two, and then just the guilt of worrying or stressing people around me.” This shaped our design direction by motivating us to include features that could ease this worry by specially considering who the
user wants to speak to and their possible reaction, and giving feedback based on this context during the "Preparation" phase. 
This in combination with generally easing worries through focusing on how to effectively communicate towards a wanted outcome 
attempts to make the user feel more confident in how they will converse with someone else.

</ProjectImagesBlock>

### People express a strong need for comfort/a way to ease anxiety before a difficult emotional conversation. 

<ProjectImagesBlock
    images={[
        {
            src: research_insight3,
            alt: "Initial design sketch of Pot Pal synthesizing previous information and " +
            "displaying it on its screen as well as talking about it.",
            caption: "Sympathetic Response tree, added later but building off existing system of providing validation and comfort"
        },
    ]}
    direction={"column"}
    width={6}
    maxHeight={"400px"}
>

For the survey question asking what respondents would have to prepare if they could have anything, many answers stated similar things: “Something
that makes me less anxious”, “A hug from a close friend or my partner”, “Something that makes me stop crying”, “A way to regulate overwhelming 
feelings”. Interviewee 1 identified worry about burdening others as a large barrier to communication, but stated that their therapist and parents 
reassuring them allowed them to overcome that fear and realize they wouldn’t be judged, making communication easier in the future.
This shaped our design direction by heavily influencing the concept of our design as something that would appear 
comforting and sympathetic and also offer reassurance often. This manifests at many points in our dialogue tree processes, 
especially our entire "Sympathetic Responses" system, and one of our end-of-path messages directly being inspired by this
Interview 1 insight which stated that people need to reassured that people in their life are willing to listen.
</ProjectImagesBlock>


## Iterative Design and Key Insights

<ProjectImageBlock
    image={{
        src: prototype,
        alt: "A boxy paper panda bear. Next to it is a diagram of interchangeable " +
        "faces it can take on",
    }}
    direction={"column"}
    caption={
        "The physical paper prototype we used to test our dialogue trees during iteration"
    }
    width={12}
    maxHeight={"400px"}
>
</ProjectImageBlock>

Similar to our peers, we started by creating a paper prototype of our system, which included our paper prototype bear
and also our two main task dialogue trees we developed. Then we had inspection done by other groups, made edits based
on the heuristic evaluation results we identified as most important, then we did usability testing with three
participants by letting them speak to the physical bear and a tester speaking as the bear following the dialogue trees,
then making small revisions to the prototype in between based on breakdowns encountered. Due to the nature of our
project, what we were testing mainly was our dialogue trees and how people interacted with the process, which in 
usability testing really allowed us to identify problems with natural conversation flow, while heuristic evaluation
helped identify features and best practice inclusions we overlooked because of our unique focus.

### Allowing the User to Control Their Process

<ProjectImagesBlock
    images={[
        {
            src: revisiontree,
            alt: "Initial design sketch of Pot Pal synthesizing previous information and " +
            "displaying it on its screen as well as talking about it.",
            caption: "One revision from this insight, the revision tree handling user backtracking at any point"
        },
    ]}
    direction={"column"}
    width={6}
    maxHeight={"400px"}
>

Many Usability Testing inspectors
identified a violation of the "User Control" heuristic in that our dialogue trees did not 
allow for much user control on when to exit, redo, or navigate in a conversation, 
and seemed to be guide-railed on a certain path. We then added a stop tree to shutdown the bear at
any point in the conversation, and a redoing statement function. We also experienced a breakdown
during a usability test where a user stated they didn't like the feedback given and felt like the 
system was forcing them to follow it. It became clear to us that not only should users at any point be
in full control of their position in the process, but also the system's underlying priorities. To
do this, we redesigned the feedback system to allow users to edit their goals and feedback preferences
if not satisfied with feedback received.

</ProjectImagesBlock>

### Making System Status and Processing Visible

<ProjectImagesBlock
    images={[
        {
            src: facialdisplay1,
            alt: "Initial design sketch of Pot Pal synthesizing previous information and " +
            "displaying it on its screen as well as talking about it.",
            caption: "Addition to facial system displaying the level of audio input received to the user in real time"
        },
        {
            src: facialdisplay2,
            alt: "Initial design sketch of Pot Pal synthesizing previous information and " +
            "displaying it on its screen as well as talking about it.",
            caption: "Addition to facial system displaying to user when system is loading/thinking for transparency and waiting"
        },
    ]}
    direction={"column"}
    width={5}
>

What the system is doing and how it is interpreting the user's input should be made visible to the
user in real-time or promptly after data collection. Also from Usability Testing, we received
many reports identifying a lack of visible state and prompt feedback in violation of the "System
Visibility" heuristic. Due to our system being predominantly a speech interface, we did not have
many initial points where feedback was given to the user as we focused on developing a dialogue
process, but we realized on the technical side and for clarity this was essential. Using our defined
facial system that previously existed just to add a responsive human element, we added facial states 
that represents thinking and receiving input so that the user would be aware in real time that the
system is pausing to process or that their audio is being picked up and listened to. Where this
insight heavily factored into our iteration is our consideration of a change for exclusion: 
as we considered how to handle harder-to-parse accents or speech styles, we realized the whole system
would benefit from more checkpoints that reported collected information back to users. 
We added many checkpoints along our dialogue trees in consideration of this, giving users that 
feedback soon after collection.

</ProjectImagesBlock>


### Supporting Natural Conversation Diversions

<ProjectImagesBlock
    images={[
        {
            src: questiontree,
            alt: "Initial design sketch of Pot Pal synthesizing previous information and " +
            "displaying it on its screen as well as talking about it.",
        },
    ]}
    caption="Question taking tree added to the system, assisting users by handling a variety of useful questions throughout the whole process"
    direction={"column"}
    width={5}
>

This insight came mostly from usability testing, where across tests many system breaks occurred when
the user asked questions or made statements that were not anticipated by the dialogue tree. 
Participant 2 in particular asked many questions for advice and clarification. Participant 3 gave
the feedback that the current process felt like a systematic interrogation in the way the system
asked many questions without interruption. This identified to us that the rigid trees created
needed to allow for natural side roads in conversation, and the user could even benefit from
divergences in the form of questions.

So, we added a question-taking tree to our system, a sympathetic
response system that made the system respond more naturally to user speech in between tree nodes, and
an error tree handling all other diversions with a reminder of system state and ability to redirect
if needed. We believe all of these changes improve user experience with improved natural dialogue, 
offering more user assistance, and handling error cases in defined ways.

</ProjectImagesBlock>
